{
  "_type": "export",
  "__export_format": 4,
  "__export_date": "2025-11-27T17:00:00.000Z",
  "__export_source": "insomnia.desktop.app:v2023.5.8",
  "resources": [
    {
      "_id": "wrk_jfk_complete",
      "_type": "workspace",
      "name": "üöÄ JFK Backend - Ultimate Suite",
      "description": "Suite de tests compl√®te pour l'API JFK (Auth, RBAC, S√©curit√©, Users)",
      "scope": "collection"
    },
    {
      "_id": "env_base",
      "_type": "environment",
      "parentId": "wrk_jfk_complete",
      "name": "Base Environment",
      "data": {
        "base_url": "http://localhost:3001",
        "access_token": "",
        "refresh_token": "",
        "user_id": "",
        "test_users": {
          "member": {
            "email": "member@jfk.ci",
            "password": "Member123!",
            "token": ""
          },
          "verified_member": {
            "email": "verified@jfk.ci",
            "password": "Verified123!",
            "token": ""
          },
          "moderator": {
            "email": "moderator@jfk.ci",
            "password": "Mod123!",
            "token": ""
          },
          "blog_admin": {
            "email": "blog@jfk.ci",
            "password": "Blog123!",
            "token": ""
          },
          "event_admin": {
            "email": "event@jfk.ci",
            "password": "Event123!",
            "token": ""
          },
          "super_admin": {
            "email": "admin@jfk.ci",
            "password": "Admin123!",
            "token": ""
          }
        }
      }
    },
    {
      "_id": "env_prod",
      "_type": "environment",
      "parentId": "env_base",
      "name": "Production üöÄ",
      "data": {
        "base_url": "https://api.jfk.ci"
      }
    },
    {
      "_id": "env_staging",
      "_type": "environment",
      "parentId": "env_base",
      "name": "Staging üöß",
      "data": {
        "base_url": "https://staging-api.jfk.ci"
      }
    },
    {
      "_id": "folder_setup",
      "_type": "request_group",
      "name": "00. üõ†Ô∏è Setup & Utils",
      "description": "Outils de base et v√©rifications",
      "parentId": "wrk_jfk_complete"
    },
    {
      "_id": "req_health",
      "_type": "request",
      "parentId": "folder_setup",
      "name": "Health Check",
      "method": "GET",
      "url": "{{ _.base_url }}",
      "tests": "expect(response.status).to.equal(200);",
      "description": "V√©rifie si l'API est en ligne"
    },
    {
      "_id": "req_swagger",
      "_type": "request",
      "parentId": "folder_setup",
      "name": "Swagger Docs",
      "method": "GET",
      "url": "{{ _.base_url }}/api-docs",
      "tests": "expect(response.status).to.equal(200);",
      "description": "Documentation API"
    },
    {
      "_id": "folder_auth",
      "_type": "request_group",
      "name": "01. üîê Authentication",
      "description": "Inscription, Connexion, Refresh",
      "parentId": "wrk_jfk_complete"
    },
    {
      "_id": "req_register",
      "_type": "request",
      "parentId": "folder_auth",
      "name": "Register - New Member",
      "method": "POST",
      "url": "{{ _.base_url }}/auth/register",
      "headers": [{"name": "Content-Type", "value": "application/json"}],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"email\": \"newuser@jfk.ci\",\n  \"password\": \"NewUser123!\",\n  \"firstName\": \"New\",\n  \"lastName\": \"User\"\n}"
      },
      "tests": "expect(response.status).to.equal(201);\nexpect(response.body).to.have.property('accessToken');\ninsomnia.environment.set('access_token', response.body.accessToken);",
      "description": "Cr√©ation de compte"
    },
    {
      "_id": "req_login",
      "_type": "request",
      "parentId": "folder_auth",
      "name": "Login - Valid Credentials",
      "method": "POST",
      "url": "{{ _.base_url }}/auth/login",
      "headers": [{"name": "Content-Type", "value": "application/json"}],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"email\": \"newuser@jfk.ci\",\n  \"password\": \"NewUser123!\"\n}"
      },
      "tests": "expect(response.status).to.equal(200);\ninsomnia.environment.set('access_token', response.body.accessToken);",
      "description": "Connexion standard"
    },
    {
      "_id": "folder_users",
      "_type": "request_group",
      "name": "02. üë§ User Management",
      "description": "Profils et gestion utilisateurs",
      "parentId": "wrk_jfk_complete"
    },
    {
      "_id": "req_profile",
      "_type": "request",
      "parentId": "folder_users",
      "name": "Get My Profile",
      "method": "GET",
      "url": "{{ _.base_url }}/users/me",
      "headers": [{"name": "Authorization", "value": "Bearer {{ _.access_token }}"}],
      "tests": "expect(response.status).to.equal(200);",
      "description": "Profil utilisateur connect√©"
    },
    {
      "_id": "req_update_profile",
      "_type": "request",
      "parentId": "folder_users",
      "name": "Update Profile",
      "method": "PATCH",
      "url": "{{ _.base_url }}/users/me",
      "headers": [
        {"name": "Authorization", "value": "Bearer {{ _.access_token }}"},
        {"name": "Content-Type", "value": "application/json"}
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"firstName\": \"Updated\",\n  \"lastName\": \"Name\"\n}"
      },
      "tests": "expect(response.status).to.equal(200);",
      "description": "Mise √† jour profil"
    },
    {
      "_id": "folder_security",
      "_type": "request_group",
      "name": "03. üõ°Ô∏è Security Suite",
      "description": "Tests de vuln√©rabilit√©s (XSS, SQLi, JWT)",
      "parentId": "wrk_jfk_complete"
    },
    {
      "_id": "req_xss_email",
      "_type": "request",
      "parentId": "folder_security",
      "name": "XSS - Script in Email",
      "method": "POST",
      "url": "{{ _.base_url }}/auth/register",
      "headers": [{"name": "Content-Type", "value": "application/json"}],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"email\": \"<script>alert(1)</script>@test.com\",\n  \"password\": \"Test123!\"\n}"
      },
      "tests": "expect(response.status).to.equal(400);",
      "description": "Test XSS basique"
    },
    {
      "_id": "req_sqli_login",
      "_type": "request",
      "parentId": "folder_security",
      "name": "SQL Injection - Login Bypass",
      "method": "POST",
      "url": "{{ _.base_url }}/auth/login",
      "headers": [{"name": "Content-Type", "value": "application/json"}],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"email\": \"admin' OR '1'='1\",\n  \"password\": \"anything\"\n}"
      },
      "tests": "expect(response.status).to.equal(401);",
      "description": "Test SQL Injection"
    },
    {
      "_id": "req_jwt_none",
      "_type": "request",
      "parentId": "folder_security",
      "name": "JWT - None Algorithm",
      "method": "GET",
      "url": "{{ _.base_url }}/users/me",
      "headers": [{"name": "Authorization", "value": "Bearer eyJhbGciOiJub25lIiwidHlwIjoiSldUIn0.eyJzdWIiOiIxMjM0NTY3ODkwIiwicm9sZSI6IlNVUEVSX0FETUlOIn0."}],
      "tests": "expect(response.status).to.equal(401);",
      "description": "Test JWT None Alg"
    },
    {
      "_id": "folder_rbac",
      "_type": "request_group",
      "name": "04. üîê RBAC & Roles",
      "description": "Tests des permissions par r√¥le",
      "parentId": "wrk_jfk_complete"
    },
    {
      "_id": "req_rbac_setup",
      "_type": "request",
      "parentId": "folder_rbac",
      "name": "‚ÑπÔ∏è RBAC Setup Info",
      "method": "GET",
      "url": "{{ _.base_url }}",
      "tests": "console.log('Ensure test users exist in DB for RBAC tests');",
      "description": "Instructions pour les tests RBAC"
    },
    {
      "_id": "req_rbac_member_fail",
      "_type": "request",
      "parentId": "folder_rbac",
      "name": "MEMBER - Access Admin (Fail)",
      "method": "GET",
      "url": "{{ _.base_url }}/admin/users",
      "headers": [{"name": "Authorization", "value": "Bearer {{ _.test_users.member.token }}"}],
      "tests": "expect(response.status).to.equal(403);",
      "description": "V√©rifie que MEMBER ne peut pas acc√©der √† l'admin"
    },
    {
      "_id": "req_rbac_blog_ok",
      "_type": "request",
      "parentId": "folder_rbac",
      "name": "BLOG_ADMIN - Create Article (Future)",
      "method": "POST",
      "url": "{{ _.base_url }}/articles",
      "headers": [
        {"name": "Authorization", "value": "Bearer {{ _.test_users.blog_admin.token }}"},
        {"name": "Content-Type", "value": "application/json"}
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"title\": \"Test\",\n  \"content\": \"Content\"\n}"
      },
      "tests": "expect([201, 404]).to.include(response.status);",
      "description": "Test cr√©ation article (endpoint futur)"
    },
    {
      "_id": "folder_future",
      "_type": "request_group",
      "name": "05. üîÆ Future Modules",
      "description": "Placeholders pour Articles, Events, Moderation",
      "parentId": "wrk_jfk_complete"
    },
    {
      "_id": "req_articles_list",
      "_type": "request",
      "parentId": "folder_future",
      "name": "Articles - List All",
      "method": "GET",
      "url": "{{ _.base_url }}/articles",
      "description": "Liste des articles"
    },
    {
      "_id": "folder_events",
      "_type": "request_group",
      "name": "05. üìÖ Events Module",
      "description": "Tests CRUD Events avec RBAC",
      "parentId": "wrk_jfk_complete"
    },
    {
      "_id": "req_events_create_admin",
      "_type": "request",
      "parentId": "folder_events",
      "name": "‚úÖ Create Event (EVENT_ADMIN)",
      "method": "POST",
      "url": "{{ _.base_url }}/events",
      "headers": [
        {"name": "Authorization", "value": "Bearer {{ _.test_users.event_admin.token }}"},
        {"name": "Content-Type", "value": "application/json"}
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"title\": \"Grand Meeting Abidjan\",\n  \"slug\": \"grand-meeting-abidjan-{{ $timestamp }}\",\n  \"description\": \"Rassemblement populaire pour pr√©senter le programme de campagne\",\n  \"startDate\": \"2025-12-25T18:00:00Z\",\n  \"endDate\": \"2025-12-25T22:00:00Z\",\n  \"location\": \"Palais de la Culture, Abidjan\",\n  \"coverImage\": \"https://example.com/meeting.jpg\",\n  \"published\": false\n}"
      },
      "tests": "expect(response.status).to.eq(201);\nexpect(response.body).to.have.property('id');\nexpect(response.body.title).to.eq('Grand Meeting Abidjan');",
      "description": "EVENT_ADMIN cr√©e un √©v√©nement"
    },
    {
      "_id": "req_events_list_public",
      "_type": "request",
      "parentId": "folder_events",
      "name": "üåç List All Events (Public)",
      "method": "GET",
      "url": "{{ _.base_url }}/events",
      "tests": "expect(response.status).to.eq(200);\nexpect(response.body).to.be.an('array');",
      "description": "Public peut lister les √©v√©nements publi√©s"
    },
    {
      "_id": "req_events_get_one",
      "_type": "request",
      "parentId": "folder_events",
      "name": "üåç Get Single Event (Public)",
      "method": "GET",
      "url": "{{ _.base_url }}/events/EVENT_ID_HERE",
      "tests": "expect([200, 404]).to.include(response.status);",
      "description": "Obtenir un √©v√©nement par ID (remplacer EVENT_ID_HERE)"
    },
    {
      "_id": "req_events_update_admin",
      "_type": "request",
      "parentId": "folder_events",
      "name": "‚úÖ Update Event (EVENT_ADMIN)",
      "method": "PATCH",
      "url": "{{ _.base_url }}/events/EVENT_ID_HERE",
      "headers": [
        {"name": "Authorization", "value": "Bearer {{ _.test_users.event_admin.token }}"},
        {"name": "Content-Type", "value": "application/json"}
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"title\": \"Grand Meeting Abidjan - UPDATED\",\n  \"published\": true\n}"
      },
      "tests": "expect([200, 404]).to.include(response.status);",
      "description": "Modifier un √©v√©nement (remplacer EVENT_ID_HERE)"
    },
    {
      "_id": "req_events_delete_admin",
      "_type": "request",
      "parentId": "folder_events",
      "name": "‚úÖ Delete Event (EVENT_ADMIN)",
      "method": "DELETE",
      "url": "{{ _.base_url }}/events/EVENT_ID_HERE",
      "headers": [
        {"name": "Authorization", "value": "Bearer {{ _.test_users.event_admin.token }}"}
      ],
      "tests": "expect([200, 404]).to.include(response.status);",
      "description": "Supprimer un √©v√©nement (remplacer EVENT_ID_HERE)"
    },
    {
      "_id": "req_events_create_member_fail",
      "_type": "request",
      "parentId": "folder_events",
      "name": "üî¥ Create Event (MEMBER) - Should FAIL 403",
      "method": "POST",
      "url": "{{ _.base_url }}/events",
      "headers": [
        {"name": "Authorization", "value": "Bearer {{ _.test_users.member.token }}"},
        {"name": "Content-Type", "value": "application/json"}
      ],
      "body": {
        "mimeType": "application/json",
        "text": "{\n  \"title\": \"Hacked Event\",\n  \"slug\": \"hacked-{{ $timestamp }}\",\n  \"description\": \"This should fail\",\n  \"startDate\": \"2025-12-25T18:00:00Z\",\n  \"location\": \"Nowhere\"\n}"
      },
      "tests": "expect(response.status).to.eq(403);",
      "description": "MEMBER ne peut pas cr√©er d'√©v√©nement (Permission manquante)"
    },
    {
      "_id": "folder_articles",
      "_type": "request_group",
      "name": "06. üìù Articles Module",
      "description": "Tests CRUD Articles avec RBAC",
      "parentId": "wrk_jfk_complete"
    },
    {
      "_id": "req_articles_list",
      "_type": "request",
      "parentId": "folder_articles",
      "name": "üåç List All Articles (Public)",
      "method": "GET",
      "url": "{{ _.base_url }}/articles",
      "description": "Liste des articles publi√©s"
    },
    {
      "_id": "folder_moderation",
      "_type": "request_group",
      "name": "07. üõ°Ô∏è Moderation Module",
      "description": "Tests Mod√©ration (Ban, Logs)",
      "parentId": "wrk_jfk_complete"
    },
    {
      "_id": "req_moderation_logs",
      "_type": "request",
      "parentId": "folder_moderation",
      "name": "‚úÖ View Logs (MODERATOR)",
      "method": "GET",
      "url": "{{ _.base_url }}/moderation/logs",
      "headers": [
        {"name": "Authorization", "value": "Bearer {{ _.test_users.moderator.token }}"}
      ],
      "tests": "expect(response.status).to.eq(200);",
      "description": "Voir les logs de mod√©ration"
    },
    {
      "_id": "req_moderation_logs_member_fail",
      "_type": "request",
      "parentId": "folder_moderation",
      "name": "üî¥ View Logs (MEMBER) - Should FAIL 403",
      "method": "GET",
      "url": "{{ _.base_url }}/moderation/logs",
      "headers": [
        {"name": "Authorization", "value": "Bearer {{ _.test_users.member.token }}"}
      ],
      "tests": "expect(response.status).to.eq(403);",
      "description": "MEMBER ne peut pas voir les logs"
    }
  ]
}